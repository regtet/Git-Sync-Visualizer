# Git Sync Visualizer

ä¸€ä¸ªåŸºäºŽ **Electron + Vue3 + Vite + simple-git** æ‰“é€ çš„æ¡Œé¢å·¥å…·ï¼Œä¸“æ³¨äºŽåœ¨å¤šä¸ªåˆ†æ”¯ä¹‹é—´åŒæ­¥ä»£ç ã€‚é€šè¿‡ç®€æ´çš„æ·±è‰²ç•Œé¢ã€å®žæ—¶æ—¥å¿—ä¸Žå¤šç§åŒæ­¥ç­–ç•¥ï¼Œå¸®åŠ©ä½ åœ¨å¤šåˆ†æ”¯ã€å¤šä»“åº“åœºæ™¯ä¸‹ä¿æŒä»£ç ä¸€è‡´ã€‚

![ä¸»ç•Œé¢æˆªå›¾](./image.png)
## æ ¸å¿ƒåŠŸèƒ½

- **å¤šåˆ†æ”¯åŒæ­¥**ï¼šé€‰æ‹©æºåˆ†æ”¯å’Œå¤šä¸ªç›®æ ‡åˆ†æ”¯ï¼Œä¸€é”®è§¦å‘åŒæ­¥ã€‚
- **ä¸‰ç§åŒæ­¥ç­–ç•¥**
  - `åˆ†æ”¯åˆå¹¶`ï¼šé¡ºåºæ‰§è¡Œ `git fetch â†’ checkout â†’ merge --no-edit â†’ push`ã€‚
  - `ç²¾å‡†æäº¤`ï¼šå¯¹æŒ‡å®š commit å“ˆå¸Œæ‰§è¡Œ `git cherry-pick`ï¼Œé€‚åˆè¡¥ä¸å¼åŒæ­¥ã€‚
  - `åŒæ­¥å‚¨è—`ï¼šé€‰å– `git stash` è®°å½•ï¼Œè‡ªåŠ¨åº”ç”¨ã€æäº¤ï¼ˆä½¿ç”¨å‚¨è—å¤‡æ³¨ä½œä¸ºæäº¤ä¿¡æ¯ï¼‰å¹¶æŽ¨é€ã€‚
- **å¤šä»“åº“æ”¯æŒ**ï¼šä¸»ç•Œé¢é¡¶éƒ¨å¯éšæ—¶åˆ‡æ¢å·¥ä½œç›®å½•ï¼Œæ¯æ¬¡åˆ‡æ¢è‡ªåŠ¨åˆ·æ–°ä»“åº“ä¿¡æ¯ã€åˆ†æ”¯åˆ—è¡¨ä¸Žå‚¨è—è®°å½•ã€‚
- **å®žæ—¶æ—¥å¿—**ï¼šå³ä¾§æ—¥å¿—é¢æ¿æ»šåŠ¨å±•ç¤ºå„ä¸ªæ­¥éª¤çš„æ‰§è¡Œç»“æžœï¼Œå¯ä¸€é”®æ¸…ç©ºã€‚
- **ä¸»é¢˜åˆ‡æ¢**ï¼šå†…ç½®â€œæ·±ç©º / æžå…‰â€ä¸¤å¥—ä¸»é¢˜ï¼Œä¸€é”®åˆ‡æ¢ï¼Œé€‚åº”ä¸åŒåå¥½ã€‚
- **é€šçŸ¥ç³»ç»Ÿ**ï¼šé¡¶éƒ¨å¼¹å‡ºå¼æç¤ºå±•ç¤ºåŒæ­¥æˆè´¥ã€å¼‚å¸¸ä¿¡æ¯ã€‚
- **å‚¨è—å¤‡æ³¨è¯†åˆ«**ï¼šæ˜¾ç¤ºä¸Žæäº¤æ—¶ä¼˜å…ˆé‡‡ç”¨è‡ªå®šä¹‰çš„å‚¨è—ä¿¡æ¯ï¼Œé¿å…å†—é•¿é»˜è®¤æç¤ºã€‚

## ä½¿ç”¨è¯´æ˜Ž

### çŽ¯å¢ƒè¦æ±‚

- Node.js `>=16 <20`
- Yarn 1ï¼ˆå»ºè®®é€šè¿‡ `corepack prepare yarn@1.22.19 --activate` åˆ‡æ¢åˆ°ç»å…¸ç‰ˆ Yarnï¼‰
- Git å‘½ä»¤è¡Œå·¥å…·

### å®‰è£… & å¯åŠ¨

```bash
yarn install
yarn dev
```

è¿è¡Œ `yarn dev` åŽï¼š
- Vite å¯åŠ¨æ¸²æŸ“è¿›ç¨‹å¼€å‘æœåŠ¡å™¨ï¼›
- Electron è‡ªåŠ¨æ‰“å¼€æ¡Œé¢çª—å£ï¼Œå¯å®žæ—¶æŸ¥çœ‹è°ƒè¯•è¾“å‡ºã€‚

### æž„å»ºå‘è¡Œç‰ˆ

```bash
yarn build
```

Electron Builder ä¼šäº§å‡ºè·¨å¹³å°çš„å¯åˆ†å‘æ–‡ä»¶ï¼Œé»˜è®¤è¾“å‡ºç›®å½•ä¸º `release/`ã€‚

### ç•Œé¢æ¦‚è§ˆ

- **é¡¶éƒ¨å·¥å…·æ **ï¼šä¸»é¢˜åˆ‡æ¢ã€é€‰æ‹©ä»“åº“ã€ä¸€é”®åŒæ­¥æŒ‰é’®ã€‚
- **å·¦ä¾§ä¿¡æ¯å¡**ï¼šæ˜¾ç¤ºä»“åº“è·¯å¾„ã€å½“å‰åˆ†æ”¯ã€clean çŠ¶æ€ä»¥åŠ ahead/behind ä¿¡æ¯ã€‚
- **ä¸­é—´åŒæ­¥ç­–ç•¥**ï¼šåˆ‡æ¢æ¨¡å¼ã€è¾“å…¥ commit å“ˆå¸Œã€é€‰æ‹©å‚¨è—ã€æŒ‘é€‰æºåˆ†æ”¯ä¸Žç›®æ ‡åˆ†æ”¯ã€‚
- **å³ä¾§æ—¥å¿—**ï¼šå®žæ—¶è¾“å‡ºæ¯ä¸ªç›®æ ‡åˆ†æ”¯çš„åŒæ­¥æ­¥éª¤åŠæœ€ç»ˆç»“æžœï¼Œæ”¯æŒæ¸…ç©ºã€‚

## é¡¹ç›®ç»“æž„

```
src/
â”œâ”€ main/               # Electron ä¸»è¿›ç¨‹
â”‚  â”œâ”€ main.js          # çª—å£ç”Ÿå‘½å‘¨æœŸã€IPC æ³¨å†Œç­‰
â”‚  â””â”€ gitService.js    # simple-git å°è£…ä¸ŽåŒæ­¥é€»è¾‘
â”œâ”€ preload.cjs         # é¢„åŠ è½½è„šæœ¬ï¼Œæ¡¥æŽ¥ IPC åˆ°æ¸²æŸ“å±‚
â””â”€ renderer/           # Vue3 å‰ç«¯
   â”œâ”€ index.html
   â”œâ”€ main.js
   â”œâ”€ App.vue          # ä¸»ç•Œé¢å¸ƒå±€ä¸ŽçŠ¶æ€ç®¡ç†
   â””â”€ components/
      â”œâ”€ RepoInfo.vue      # ä»“åº“ä¿¡æ¯é¢æ¿
      â”œâ”€ BranchSelector.vue# åˆ†æ”¯é€‰æ‹©ä¸Žç­›é€‰
      â””â”€ LogView.vue       # å®žæ—¶æ—¥å¿—è¾“å‡º
```

## å¼€å‘æç¤º

- åŒæ­¥æ“ä½œå…¨éƒ¨åœ¨ä¸»è¿›ç¨‹ `gitService` ä¸­ä¸²è¡Œæ‰§è¡Œï¼Œå½“å‰ç›®æ ‡å¤±è´¥ä¸ä¼šé˜»å¡žå…¶ä»–ç›®æ ‡çš„ç»§ç»­ã€‚
- åŒæ­¥å®ŒæˆåŽä¼šè‡ªåŠ¨åˆ‡å›žæºåˆ†æ”¯ï¼ˆåˆ†æ”¯æ¨¡å¼ï¼‰æˆ–å…ˆå‰åˆ†æ”¯ï¼ˆå…¶ä»–æ¨¡å¼ï¼‰ï¼Œé¿å…æ‰“æ–­å½“å‰å·¥ä½œæµã€‚
- å¦‚æžœéœ€è¦æ‰©å±•æ›´å¤šç­–ç•¥æˆ–è®°å½•åŽ†å²ï¼Œå¯åœ¨ IPC é€šé“å†…è¿½åŠ æ–°äº‹ä»¶ä¸ŽçŠ¶æ€ã€‚
- å¤§ä½“ç§¯ UI åº“å·²ç§»é™¤ï¼Œå…¨éƒ¨æ ·å¼å‡å¯åœ¨ `src/renderer/styles.css` ä¸­è‡ªå®šä¹‰ã€‚

## æœªæ¥å¯æ‰©å±•æ–¹å‘

- åˆ†æ”¯å…³ç³»å›¾ï¼ˆGitGraph.js / vis-networkï¼‰
- åŒæ­¥ä»»åŠ¡åŽ†å²è®°å½•ä¸Žå›žæ”¾
- å¤šä»“åº“æ ‡ç­¾é¡µç®¡ç†
- æ›´ç»†ç²’åº¦çš„å†²çªæç¤ºä¸Žå¤„ç†å‘å¯¼

æ¬¢è¿Žæ ¹æ®è‡ªèº«éœ€æ±‚ç»§ç»­æ‹“å±•ã€‚ç¥ä½¿ç”¨æ„‰å¿«ï¼ ðŸŽ¯
